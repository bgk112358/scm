include(ExternalProject)

set(GOOGLETEST_BUILD_DIR "${CMAKE_CURRENT_SOURCE_DIR}/../download/googletest-release-1.12.1/build")

# Add include dirs and library path as properties of googletest_external imported
set(FETCHED_GOOGLETEST_INCLUDE "${GOOGLETEST_BUILD_DIR}/include")
set(FETCHED_GOOGLETEST_LIBPATH "${GOOGLETEST_BUILD_DIR}/lib")

message(STATUS "FETCHED_GOOGLETEST_INCLUDE ${FETCHED_GOOGLETEST_INCLUDE}")
message(STATUS "FETCHED_GOOGLETEST_LIBPATH ${FETCHED_GOOGLETEST_LIBPATH}")

set(FETCHED_GOOGLETEST_LIB
        "${FETCHED_GOOGLETEST_LIBPATH}/libgmock_main${CMAKE_SHARED_LIBRARY_SUFFIX}"
        "${FETCHED_GOOGLETEST_LIBPATH}/libgmock${CMAKE_SHARED_LIBRARY_SUFFIX}"
        "${FETCHED_GOOGLETEST_LIBPATH}/libgtest_main${CMAKE_SHARED_LIBRARY_SUFFIX}"
        "${FETCHED_GOOGLETEST_LIBPATH}/libgtest${CMAKE_SHARED_LIBRARY_SUFFIX}"
        )

set_target_properties(
        googletest_external
        PROPERTIES
        INTERFACE_INCLUDE_DIRECTORIES
        "${FETCHED_GOOGLETEST_INCLUDE}"
        IMPORTED_LOCATION_LIBS
        "${FETCHED_GOOGLETEST_LIB}")
